{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.js","API/Api.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Spinner","type","color","height","width","timeout","fetchImages","name","page","a","axios","get","response","data","hits","SearchBar","onSubmit","className","s","Searchbar","SearchForm","e","preventDefault","target","elements","searchImage","value","toLowerCase","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","autoFocus","placeholder","Btn","onClick","LoadMore","prototype","PropTypes","func","isRequired","ImageGalleryItem","image","id","webformatURL","tags","ImageGalleryItem__image","src","alt","ImageGallery","images","onSelect","map","Modal","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","Overlay","currentTarget","App","useState","setImages","setPage","selectedImage","setSelectedImages","setSearchImages","loading","setLoading","showModal","setShowModal","gallery","trim","length","toast","error","scrollTo","top","document","documentElement","scrollHeight","behavior","getFetchImages","handleSelectImg","imageURL","showBtn","largeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f4e68124.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__gzpZX\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3ytrg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3CbAx\",\"Modal\":\"Modal_Modal__3MwUp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadMore\":\"Button_LoadMore__2c-ck\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2mr7I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1wLg8\",\"SearchForm\":\"Searchbar_SearchForm__1U6ez\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2HSdH\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__1lNGZ\",\"SearchForm__input\":\"Searchbar_SearchForm__input__bVEvc\"};","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nfunction Spinner() {\n  return (\n    <Loader\n      type=\"TailSpin\"\n      color=\"#00ff55\"\n      height={100}\n      width={100}\n      timeout={3000}\n    />\n  );\n}\n\nexport default Spinner;\n","import axios from \"axios\";\n\nconst fetchImages = async (name, page) => {\n  const URL = \"https://pixabay.com/api\";\n  const API_KEY = \"23024944-26babadae282d834971f263ad\";\n\n  const response = await axios.get(\n    `${URL}/?q=${name}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return response.data.hits;\n};\n\nexport default fetchImages;\n","import s from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst SearchBar = ({ onSubmit }) => {\n  const handleSearch = (e) => {\n    e.preventDefault();\n    onSubmit(e.target.elements.searchImage.value.toLowerCase());\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSearch}>\n        <button className={s.SearchForm__button} type=\"submit\">\n          <span className={s.SearchForm__buttonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm__input}\n          type=\"text\"\n          name=\"searchImage\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nfunction Btn({ onClick }) {\n  return (\n    <button className={s.LoadMore} type=\"button\" onClick={onClick}>\n      Загрузить еще...\n    </button>\n  );\n}\n\nBtn.prototype = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Btn;\n","import s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction ImageGalleryItem({ image, onClick }) {\n  const { id, webformatURL, tags } = image;\n\n  return (\n    <li className={s.ImageGalleryItem} onClick={onClick} key={id}>\n      <img\n        className={s.ImageGalleryItem__image}\n        src={webformatURL}\n        alt={tags}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, onSelect }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map((image, id) => (\n        <ImageGalleryItem\n          key={id}\n          image={image}\n          onClick={() => onSelect(image)}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n    images: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number,\n            image: PropTypes.object,\n        })),\n    onSelect: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import { useEffect  } from \"react\";\nimport s from \"./Modal.module.css\";\n\nconst Modal = ({src, alt, onSelect}) => {\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n    window.removeEventListener('keydown', handleKeyDown);\n    }\n  })\n\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onSelect();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onSelect();\n    }\n  };\n\n  return (\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={src} alt={alt} />\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n","import { useState, useEffect } from \"react\";\nimport Spinner from \"./components/Loader/Loader\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport fetchImages from \"./API/Api\";\nimport SearchBar from \"./components/Searchbar/Searchbar\";\nimport Btn from \"./components/Button/Button\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal/Modal\";\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [selectedImage, setSelectedImages] = useState(null);\n  const [searchImage, setSearchImages] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!searchImage) return;\n    async function getFetchImages() {\n      try {\n        setLoading(\"true\");\n\n        const gallery = await fetchImages(searchImage, page);\n\n        if (searchImage.trim() === \"\" || gallery.length === 0) {\n          return toast.error(`таких картинок нет, попробуй еще`);\n        }\n\n        setImages((images) => [...images, ...gallery]);\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      } catch (error) {\n        toast.error(\"ошибка\");\n      } finally {\n        setLoading(\"false\");\n      }\n    }\n\n    getFetchImages();\n  }, [page, searchImage]);\n\n  const handleSubmit = (searchImage) => {\n    setSearchImages(searchImage);\n    setPage(1);\n    setImages([]);\n  };\n\n  const handleSelectImg = (imageURL) => {\n    setShowModal(!showModal);\n    setSelectedImages(imageURL);\n  };\n\n  const BtnLoadMore = () => {\n    setPage((page) => page + 1);\n  };\n\n  const showBtn = images.length >= 1;\n\n  return (\n    <div>\n      <SearchBar onSubmit={handleSubmit} />\n      {loading === \"true\" && <Spinner />}\n      <ImageGallery images={images} onSelect={handleSelectImg} />\n      {showBtn && <Btn onClick={BtnLoadMore} />}\n      {showModal && (\n        <Modal\n          src={selectedImage.largeImageURL}\n          alt={selectedImage.tags}\n          onSelect={handleSelectImg}\n        />\n      )}\n      <Toaster />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}